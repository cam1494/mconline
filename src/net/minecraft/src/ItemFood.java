package net.minecraft.src;

public class ItemFood extends Item {
   public final int itemUseDuration;
   private final int healAmount;
   private final float saturationModifier;
   private final boolean isWolfsFavoriteMeat;
   private boolean alwaysEdible;
   private int potionId;
   private int potionDuration;
   private int potionAmplifier;
   private float potionEffectProbability;

   public ItemFood(int par1, int par2, float par3, boolean par4) {
      super(par1);
      this.itemUseDuration = 32;
      this.healAmount = par2;
      this.isWolfsFavoriteMeat = par4;
      this.saturationModifier = par3;
      this.setCreativeTab(CreativeTabs.tabFood);
   }

   public ItemFood(int par1, int par2, boolean par3) {
      this(par1, par2, 0.6F, par3);
   }

   public ItemStack onEaten(ItemStack par1ItemStack, World par2World, EntityPlayer par3EntityPlayer) {
      --par1ItemStack.stackSize;
      par3EntityPlayer.getFoodStats().addStats(this);
      par2World.playSoundAtEntity(par3EntityPlayer, "random.burp", 0.5F, par2World.rand.nextFloat() * 0.1F + 0.9F);
      this.onFoodEaten(par1ItemStack, par2World, par3EntityPlayer);
      return par1ItemStack;
   }

   protected void onFoodEaten(ItemStack par1ItemStack, World par2World, EntityPlayer par3EntityPlayer) {
      if(!par2World.isRemote && this.potionId > 0 && par2World.rand.nextFloat() < this.potionEffectProbability) {
         par3EntityPlayer.addPotionEffect(new PotionEffect(this.potionId, this.potionDuration * 20, this.potionAmplifier));
      }
   }

   public int getMaxItemUseDuration(ItemStack par1ItemStack) {
      return 32;
   }

   public EnumAction getItemUseAction(ItemStack par1ItemStack) {
      return EnumAction.eat;
   }

   public ItemStack onItemRightClick(ItemStack par1ItemStack, World par2World, EntityPlayer par3EntityPlayer) {
      if(par3EntityPlayer.canEat(this.alwaysEdible)) {
         par3EntityPlayer.setItemInUse(par1ItemStack, this.getMaxItemUseDuration(par1ItemStack));
      }

      return par1ItemStack;
   }

   public int getHealAmount() {
      return this.healAmount;
   }

   public float getSaturationModifier() {
      return this.saturationModifier;
   }

   public boolean isWolfsFavoriteMeat() {
      return this.isWolfsFavoriteMeat;
   }

   public ItemFood setPotionEffect(int par1, int par2, int par3, float par4) {
      this.potionId = par1;
      this.potionDuration = par2;
      this.potionAmplifier = par3;
      this.potionEffectProbability = par4;
      return this;
   }

   public ItemFood setAlwaysEdible() {
      this.alwaysEdible = true;
      return this;
   }
}
